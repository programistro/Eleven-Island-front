import{r as i,j as e,L as x,g as h}from"./index-DMbPzMn2.js";const u=a=>{const[l,c]=i.useState(window.matchMedia(a).matches);return i.useEffect(()=>{const o=window.matchMedia(a),s=()=>c(o.matches);return o.addEventListener("change",s),()=>o.removeEventListener("change",s)},[a]),l};function g({arrDataImg:a}){const[l,c]=i.useState(null);return e.jsx("div",{className:"box2",children:e.jsxs("div",{className:"contentBox2",children:[e.jsx("h2",{className:"sr-only",children:"Products"}),e.jsx("div",{className:"grid grid-cols-2 gap-x-[10px] gap-y-10 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 xl:gap-x-8",style:{gap:u("(max-width: 1020px)")&&"15px 5px"},children:a?a==null?void 0:a.map((s,d)=>{var r,t;return e.jsx(e.Fragment,{children:e.jsxs("div",{className:"itemBox2 aspect-h-1 mx-auto aspect-w-1 xl:aspect-h-8 xl:aspect-w-7 relative ",children:[e.jsx(x,{to:`/product/${s==null?void 0:s.id}`,onMouseEnter:()=>c(d),onMouseLeave:()=>c(null),children:e.jsx("div",{className:"itemImgProduct aspect-h-1 aspect-w-1 w-full overflow-hidden bg-gray-200 xl:aspect-h-8 xl:aspect-w-7",style:{background:`url('${l!==d?s==null?void 0:s.images[0]:(r=s==null?void 0:s.images)==null?void 0:r[1]}') center / cover no-repeat`}})},s==null?void 0:s.id),e.jsx("div",{className:"color-product",children:(t=s==null?void 0:s.attributes.find(n=>(n==null?void 0:n.productAttributeId)==1))==null?void 0:t.attributeValues.map((n,p)=>e.jsx("div",{style:{border:"1px solid",padding:"1px",borderColor:s.id==n.name.split("|")[1]?"#000":"transparent"},children:e.jsx("nav",{onClick:()=>{document.location.href=`/product/${n.name.split("|")[1]}`},style:{backgroundColor:n.name[0]!=="#"&&"#"+n.name.split("|")[0],border:n.name.split("|")[0]==="ffffff"&&"1px solid #333"}})},p))}),e.jsxs("div",{className:"itemInfoProduct",children:[e.jsx("h1",{className:"productTitle",children:s==null?void 0:s.shortDescription}),e.jsxs("div",{className:"price__div price-product",children:[s.discount!=0&&e.jsxs("h4",{className:"skitka",style:{fontSize:"16px"},children:[" ",e.jsxs(e.Fragment,{children:[s==null?void 0:s.price," ₽"]})]}),e.jsxs("h1",{className:"productPrice",style:{fontSize:"16px"},children:[s.discount!=0?s==null?void 0:s.discount:s==null?void 0:s.price," ",e.jsx("span",{style:{fontFamily:"font-book, sans-serif"},children:"₽"})]})]})]})]},d)})}):e.jsx("h1",{children:"Loading..."})})]})})}function v(){const[a,l]=i.useState(""),[c,o]=i.useState(""),s=r=>/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(r),d=async r=>{if(r.preventDefault(),!s(a))o("Введите корректный email!");else{o("");const t=localStorage.getItem("token");try{const n=await h.post(`news_letter_subscriptions/${a}/deactivate`,{},{headers:{Authorization:`Bearer ${t}`}});l("")}catch(n){console.error(n)}}};return e.jsxs("div",{className:"sendEmail",children:[e.jsxs("div",{className:"sendEmailTop",children:[e.jsx("h1",{children:"Скоро новый дроп"}),e.jsx("p",{children:"Хочешь узнавать о всех новинках первый?"}),e.jsx("p",{children:"Подпишись на рассылку!"})]}),e.jsxs("form",{onSubmit:d,className:"sendEmailForm",children:[e.jsx("input",{type:"email",id:"email",onChange:r=>l(r.target.value.trim()),name:"email",placeholder:"Введите e-mail"}),c.length>0&&e.jsx("p",{className:"error-p-send-email",style:{position:"absolute",color:"red"},children:c}),e.jsx("button",{type:"submit",children:"Подписаться"})]})]})}export{g as B,v as S};
